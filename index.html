<html>

<head>
    <!-- ADD JQUERY  -->
</head>

<body>
    <div id="container"></div>
    <script>
        // Q1: given 10k elements with different ids, classNames, tags and data attributes
        // what's the difference in performance for each selector?

        const limit = 10000;
        const selectors = ['id', 'className', 'data', 'tag']

        // First populate the DOM with 10k elements
        function createEl(i) {
            const el = document.createElement(`section-${i}`);
            el.setAttribute('id', `id_${i}`);
            el.className = `class_${i}`;
            el.setAttribute('data-test', `data_${i}`);
            document.body.appendChild(el);
        }
        for (let i = 0; i < limit; i++) {
            createEl(i);
        }

        // Test for given selector
        function testGivenSelector(selector) {
            const start = new Date().getTime();
            for (let i = 0; i < limit; i++) {
                if (selector === 'id') {
                    document.getElementById(`id_${i}`);
                } else if (selector === 'className') {
                    document.getElementsByClassName(`class_${i}`);
                } else if (selector === 'tag') {
                    document.getElementsByTagName(`section-${i}`);
                } else if (selector === 'data') {
                    document.querySelectorAll(`[data-test="data_${i}"]`);
                }
            }
            const end = new Date().getTime();
            const totalTime = end - start;
            logTestResults({ selector, totalTime, elementsChecked: limit });
        }

        // Log results
        function logTestResults(results) {
            console.group(`Test results for ${results.selector}`);
            console.log(`Total time (ms): ${results.totalTime}`);
            console.log(`Elements amount: ${results.elementsChecked}`);
            console.log(`Average time per element (ms): ${results.totalTime / results.elementsChecked}`);
            console.groupEnd(`Test results for ${results.selector}`)
        }

        // Init the actual tests
        selectors.forEach(selector => testGivenSelector(selector));
    </script>
</body>

</html>